{"ast":null,"code":"var _jsxFileName = \"/var/smartzi/airline-master/src/components/ancillary/AncillaryForm.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { createService, updateService } from '../../redux/actions/serviceActions';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  form: {\n    width: '100%' // Fix IE 11 issue.\n\n  },\n  submit: {\n    margin: theme.spacing(2, 0, 2)\n  }\n}));\n\nconst AncillaryForm = props => {\n  var _props$match$params$i;\n\n  const classes = useStyles();\n  const {\n    auth,\n    service\n  } = props;\n  const flightId = props.match.params.flightId;\n  const serviceId = (_props$match$params$i = props.match.params.id) !== null && _props$match$params$i !== void 0 ? _props$match$params$i : null;\n  const [formData, updateFormData] = useState({\n    flightId: flightId,\n    serviceName: service ? service.serviceName : ''\n  });\n  const [formErrors, updateFormErrors] = useState({\n    serviceName: false\n  });\n  if (!auth.uid) return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }\n  });\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n    updateFormErrors({ ...formErrors,\n      [e.target.name]: e.target.value.trim() === '' ? true : false\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (formData.serviceName === '') {\n      updateFormErrors({ ...formErrors,\n        showError: true\n      });\n      return false;\n    }\n\n    if (serviceId) {\n      props.updateService({ ...formData,\n        id: serviceId\n      });\n    } else {\n      props.createService(formData);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, \"Add a Service\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"serviceName\",\n    label: \"Service Name\",\n    name: \"serviceName\",\n    onChange: handleChange,\n    value: formData.serviceName,\n    autoFocus: true,\n    error: formErrors.serviceName,\n    helperText: formErrors.serviceName ? 'Required' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }\n  }, \"Submit\"))));\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const id = ownProps.match.params.id;\n  const services = state.firestore.data.services;\n  const service = services ? services[id] : null;\n  return {\n    auth: state.firebase.auth,\n    service: service\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createService: formData => dispatch(createService(formData)),\n    updateService: formData => dispatch(updateService(formData))\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), firestoreConnect(props => [{\n  collection: 'services',\n  doc: props.match.params.id\n}]))(AncillaryForm);","map":{"version":3,"sources":["/var/smartzi/airline-master/src/components/ancillary/AncillaryForm.js"],"names":["React","useState","makeStyles","Container","TextField","Typography","Button","connect","Redirect","createService","updateService","firestoreConnect","compose","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","AncillaryForm","props","classes","auth","service","flightId","match","params","serviceId","id","formData","updateFormData","serviceName","formErrors","updateFormErrors","uid","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","showError","mapStateToProps","state","ownProps","services","firestore","data","firebase","mapDispatchToProps","dispatch","collection","doc"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { createService, updateService } from '../../redux/actions/serviceActions';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(2, 0, 2),\n\t},\n}));\n\nconst AncillaryForm = (props) => {\n\tconst classes = useStyles();\n\t\n\tconst { auth, service } = props;\n\tconst flightId = props.match.params.flightId;\n\tconst serviceId = props.match.params.id ?? null;\n\t\n\tconst [formData, updateFormData] = useState({\n\t\tflightId: flightId,\n\t\tserviceName: service ? service.serviceName : '',\t\t\n\t});\n\t\n\tconst [formErrors, updateFormErrors] = useState({\n\t\tserviceName: false,\n\t});\n\t\n\tif (!auth.uid) return <Redirect to='/login' />\n\t\n\tconst handleChange = (e) => {\n\t\tupdateFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value.trim()\n\t\t});\n\t\t\n\t\tupdateFormErrors({\n\t\t\t...formErrors,\n\t\t\t[e.target.name]: (e.target.value.trim() === '') ? true : false\n\t\t});\n\t};\n\t\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t\n\t\tif (formData.serviceName === '') {\n\t\t\tupdateFormErrors({\n\t\t\t\t...formErrors,\n\t\t\t\tshowError: true\n\t\t\t});\n\t\t\t\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif (serviceId) {\n\t\t\tprops.updateService({...formData, id:serviceId});\n\t\t} else {\n\t\t\tprops.createService(formData);\n\t\t}\n\t};\n\t\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\t\t\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tAdd a Service\n\t\t\t\t</Typography>\n\t\t\t\t<form className={classes.form} autoComplete=\"off\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\tlabel=\"Service Name\"\n\t\t\t\t\t\tname=\"serviceName\"\n\t\t\t\t\t\tonChange= { handleChange }\n\t\t\t\t\t\tvalue = { formData.serviceName }\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\terror = { formErrors.serviceName }\n\t\t\t\t\t\thelperText={ formErrors.serviceName ? 'Required' : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName= { classes.submit }\n\t\t\t\t\t\tonClick = { handleSubmit }\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\t\t\t\t\t\n\t\t\t\t</form>\n\t\t\t</div>\t\t\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = (state, ownProps) => {\t\n\tconst id = ownProps.match.params.id;\n\tconst services = state.firestore.data.services;\n\tconst service = services ? services[id] : null;\n\t\n\treturn {\n\t\tauth: state.firebase.auth,\n\t\tservice: service,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tcreateService: (formData) => dispatch(createService(formData)),\n\t\tupdateService: (formData) => dispatch(updateService(formData)),\n\t}\n}\n\nexport default compose(\n\tconnect(mapStateToProps, mapDispatchToProps),\n\tfirestoreConnect(props => [\n\t\t{ collection: 'services', doc: props.match.params.id }\n\t])\n)(AncillaryForm);"]},"metadata":{},"sourceType":"module"}