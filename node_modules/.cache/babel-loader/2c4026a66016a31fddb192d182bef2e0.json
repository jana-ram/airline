{"ast":null,"code":"import { ActionTypes } from '../actions/actionTypes';\nimport { firestoreConnect } from 'react-redux-firebase';\nexport const getPassengerDetailById = (passenger, flightId) => dispatch => {\n  const result = firestoreConnect(props => [{\n    collection: 'passengers',\n    doc: passenger\n  }, {\n    collection: 'services',\n    where: [['flightId', '==', flightId]]\n  }]).then(res => {\n    console.log(res);\n  });\n  console.log(result); // return (dispatch, getState, {getFirestore}) => {\t\t\n  // \tconst firestore = getFirestore();\t\t\n  // \tfirestore.collection('passengers').add(passenger).then(() => {\n  // \t\tdispatch({ type: ActionTypes.ADD_PASSENGER_SUCCESS, passenger});\t\t\t\n  // \t}).catch((err) => {\n  // \t\tdispatch({ type: ActionTypes.ADD_PASSENGER_ERROR, err });\n  // \t});\n  // }\n};\nexport const addPassenger = passenger => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('passengers').add(passenger).then(() => {\n      dispatch({\n        type: ActionTypes.ADD_PASSENGER_SUCCESS,\n        passenger\n      });\n    }).catch(err => {\n      dispatch({\n        type: ActionTypes.ADD_PASSENGER_ERROR,\n        err\n      });\n    });\n  };\n};\nexport const updatePassenger = (id, passenger) => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('passengers').doc(id).update(passenger).then(() => {\n      dispatch({\n        type: ActionTypes.UPDATE_PASSENGER_SUCCESS\n      });\n    }).catch(err => {\n      dispatch({\n        type: ActionTypes.UPDATE_PASSENGER_ERROR,\n        err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/var/smartzi/airline-master/src/redux/actions/passengerActions.js"],"names":["ActionTypes","firestoreConnect","getPassengerDetailById","passenger","flightId","dispatch","result","props","collection","doc","where","then","res","console","log","addPassenger","getState","getFirestore","firestore","add","type","ADD_PASSENGER_SUCCESS","catch","err","ADD_PASSENGER_ERROR","updatePassenger","id","update","UPDATE_PASSENGER_SUCCESS","UPDATE_PASSENGER_ERROR"],"mappings":"AAAA,SAASA,WAAT,QAA4B,wBAA5B;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,OAAO,MAAMC,sBAAsB,GAAG,CAACC,SAAD,EAAWC,QAAX,KAAyBC,QAAQ,IAAG;AACzE,QAAMC,MAAM,GAAGL,gBAAgB,CAACM,KAAK,IAAI,CACxC;AAAEC,IAAAA,UAAU,EAAE,YAAd;AAA4BC,IAAAA,GAAG,EAAEN;AAAjC,GADwC,EAExC;AAAEK,IAAAA,UAAU,EAAE,UAAd;AAA0BE,IAAAA,KAAK,EAAE,CAAC,CAAC,UAAD,EAAa,IAAb,EAAmBN,QAAnB,CAAD;AAAjC,GAFwC,CAAV,CAAhB,CAGZO,IAHY,CAGPC,GAAG,IAAE;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,GALc,CAAf;AAMAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ,EAPyE,CAQzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBM;AAmBP,OAAO,MAAMS,YAAY,GAAIZ,SAAD,IAAe;AAC1C,SAAO,CAACE,QAAD,EAAWW,QAAX,EAAqB;AAACC,IAAAA;AAAD,GAArB,KAAwC;AAC9C,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACAC,IAAAA,SAAS,CAACV,UAAV,CAAqB,YAArB,EAAmCW,GAAnC,CAAuChB,SAAvC,EAAkDQ,IAAlD,CAAuD,MAAM;AAC5DN,MAAAA,QAAQ,CAAC;AAAEe,QAAAA,IAAI,EAAEpB,WAAW,CAACqB,qBAApB;AAA2ClB,QAAAA;AAA3C,OAAD,CAAR;AACA,KAFD,EAEGmB,KAFH,CAEUC,GAAD,IAAS;AACjBlB,MAAAA,QAAQ,CAAC;AAAEe,QAAAA,IAAI,EAAEpB,WAAW,CAACwB,mBAApB;AAAyCD,QAAAA;AAAzC,OAAD,CAAR;AACA,KAJD;AAKA,GAPD;AAQA,CATM;AAWP,OAAO,MAAME,eAAe,GAAG,CAACC,EAAD,EAAKvB,SAAL,KAAmB;AACjD,SAAO,CAACE,QAAD,EAAWW,QAAX,EAAqB;AAACC,IAAAA;AAAD,GAArB,KAAwC;AAC9C,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AAEAC,IAAAA,SAAS,CAACV,UAAV,CAAqB,YAArB,EAAmCC,GAAnC,CAAuCiB,EAAvC,EAA2CC,MAA3C,CAAkDxB,SAAlD,EAA6DQ,IAA7D,CAAkE,MAAK;AACtEN,MAAAA,QAAQ,CAAC;AAAEe,QAAAA,IAAI,EAAEpB,WAAW,CAAC4B;AAApB,OAAD,CAAR;AACA,KAFD,EAEGN,KAFH,CAEUC,GAAD,IAAS;AACjBlB,MAAAA,QAAQ,CAAC;AAAEe,QAAAA,IAAI,EAAEpB,WAAW,CAAC6B,sBAApB;AAA4CN,QAAAA;AAA5C,OAAD,CAAR;AACA,KAJD;AAKA,GARD;AASA,CAVM","sourcesContent":["import { ActionTypes } from '../actions/actionTypes';\nimport { firestoreConnect } from 'react-redux-firebase';\nexport const getPassengerDetailById = (passenger,flightId)  => dispatch =>{\n\tconst result = firestoreConnect(props => [\n\t\t{ collection: 'passengers', doc: passenger },\n\t\t{ collection: 'services', where: [['flightId', '==', flightId]] }\n\t]).then(res=>{\n\t\tconsole.log(res)\n\t});\n\tconsole.log(result)\n\t// return (dispatch, getState, {getFirestore}) => {\t\t\n\t// \tconst firestore = getFirestore();\t\t\n\t// \tfirestore.collection('passengers').add(passenger).then(() => {\n\t// \t\tdispatch({ type: ActionTypes.ADD_PASSENGER_SUCCESS, passenger});\t\t\t\n\t// \t}).catch((err) => {\n\t// \t\tdispatch({ type: ActionTypes.ADD_PASSENGER_ERROR, err });\n\t// \t});\n\t// }\n}\n\n\nexport const addPassenger = (passenger) => {\n\treturn (dispatch, getState, {getFirestore}) => {\t\t\n\t\tconst firestore = getFirestore();\t\t\n\t\tfirestore.collection('passengers').add(passenger).then(() => {\n\t\t\tdispatch({ type: ActionTypes.ADD_PASSENGER_SUCCESS, passenger});\t\t\t\n\t\t}).catch((err) => {\n\t\t\tdispatch({ type: ActionTypes.ADD_PASSENGER_ERROR, err });\n\t\t});\n\t}\n}\n\nexport const updatePassenger = (id, passenger) => {\n\treturn (dispatch, getState, {getFirestore}) => {\n\t\tconst firestore = getFirestore();\n\t\t\n\t\tfirestore.collection('passengers').doc(id).update(passenger).then(()=> {\n\t\t\tdispatch({ type: ActionTypes.UPDATE_PASSENGER_SUCCESS});\n\t\t}).catch((err) => {\n\t\t\tdispatch({ type: ActionTypes.UPDATE_PASSENGER_ERROR, err});\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}